"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[767],{9767:(z,m,s)=>{s.r(m),s.d(m,{AuthModule:()=>B});var d=s(9808),g=s(4354),i=s(2382),p=s(8746),e=s(4893),f=s(9978),c=s(2290);function l(n,o){1&n&&(e.TgZ(0,"div",10),e._uU(1," Username is required "),e.qZA())}function _(n,o){if(1&n&&(e.TgZ(0,"div",10),e._uU(1),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.hij(" Username must be at least ",t.requiredLength," characters long ")}}function v(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,l,2,0,"div",9),e.YNc(2,_,2,1,"div",9),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.minlength)}}function h(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,v,3,2,"div",5),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.touched&&t.errors)}}function Z(n,o){1&n&&(e.TgZ(0,"div",10),e._uU(1," Password is required "),e.qZA())}function T(n,o){if(1&n&&(e.TgZ(0,"div",10),e._uU(1),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.hij(" Password must be at least ",t.requiredLength," characters long ")}}function I(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Z,2,0,"div",9),e.YNc(2,T,2,1,"div",9),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.minlength)}}function q(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,I,3,2,"div",5),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.touched&&t.errors)}}function C(n,o){1&n&&(e.TgZ(0,"div",11),e.TgZ(1,"span",12),e._uU(2,"Loading..."),e.qZA(),e.qZA())}function A(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"Sign in"),e.qZA())}function w(n,o){1&n&&(e.TgZ(0,"div",11),e._uU(1," Username is required "),e.qZA())}function b(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.hij(" Username must be at least ",t.requiredLength," characters long ")}}function J(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,w,2,0,"div",8),e.YNc(2,b,2,1,"div",8),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.minlength)}}function Y(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,J,3,2,"div",5),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.touched&&t.errors)}}function U(n,o){1&n&&(e.TgZ(0,"div",11),e._uU(1," Password is required "),e.qZA())}function N(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.hij(" Password must be at least ",t.requiredLength," characters long ")}}function y(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,U,2,0,"div",8),e.YNc(2,N,2,1,"div",8),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.minlength)}}function L(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,y,3,2,"div",5),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.touched&&t.errors)}}function Q(n,o){1&n&&(e.TgZ(0,"div",11),e._uU(1," Password is required "),e.qZA())}function R(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.hij(" Password must be at least ",t.requiredLength," characters long ")}}function P(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Q,2,0,"div",8),e.YNc(2,R,2,1,"div",8),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.minlength)}}function M(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,P,3,2,"div",5),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.touched&&t.errors)}}function G(n,o){1&n&&(e.TgZ(0,"p",11),e._uU(1,"Passwords are not the same!"),e.qZA())}function O(n,o){1&n&&(e.TgZ(0,"div",12),e.TgZ(1,"span",13),e._uU(2,"Loading..."),e.qZA(),e.qZA())}function S(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"Register "),e.qZA())}const F=[{path:"login",component:(()=>{class n{constructor(t,r,a,u){this.fb=t,this.authService=r,this.router=a,this.toastr=u,this.loading=!1,this.isOpen=!0}ngOnInit(){this.populateForm(),localStorage.getItem("token")&&this.router.navigateByUrl("products")}populateForm(){this.formGroup=this.fb.group({username:["",[i.kI.minLength(3),i.kI.required]],password:["",[i.kI.minLength(5),i.kI.required]]})}onSubmit(){const{username:t,password:r}=this.formGroup.value;this.loading=!0,this.authService.login(t,r).pipe((0,p.x)(()=>{this.loading=!1})).subscribe({next:()=>{this.isOpen=!1,this.router.navigateByUrl("products")},error:a=>{this.toastr.error(a.error.message)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.qu),e.Y36(f.e),e.Y36(g.F0),e.Y36(c._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:15,vars:6,consts:[[1,"login"],[3,"formGroup","submit"],[1,"mb-3"],[1,"form-label"],["type","email","formControlName","username",1,"form-control"],[4,"ngIf"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border","role","status",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"form",1),e.NdJ("submit",function(){return r.onSubmit()}),e.TgZ(2,"div",2),e.TgZ(3,"label",3),e._uU(4,"Username"),e.qZA(),e._UZ(5,"input",4),e.YNc(6,h,2,1,"div",5),e.qZA(),e.TgZ(7,"div",2),e.TgZ(8,"label",3),e._uU(9,"Password"),e.qZA(),e._UZ(10,"input",6),e.YNc(11,q,2,1,"div",5),e.qZA(),e.TgZ(12,"button",7),e.YNc(13,C,3,0,"div",8),e.YNc(14,A,2,0,"span",5),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",r.formGroup),e.xp6(5),e.Q6J("ngIf",r.formGroup.controls.username),e.xp6(5),e.Q6J("ngIf",r.formGroup.controls.password),e.xp6(1),e.Q6J("disabled",r.formGroup.invalid),e.xp6(1),e.Q6J("ngIf",r.loading),e.xp6(1),e.Q6J("ngIf",!r.loading))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,d.O5],styles:[".login[_ngcontent-%COMP%]{width:50%;margin:0 auto}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:20%}.fly-out[_ngcontent-%COMP%]{animation:fly-out .3s ease-in-out forwards}@keyframes fly-out{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-100%)}}"]}),n})()},{path:"register",component:(()=>{class n{constructor(t,r,a,u){this.fb=t,this.authService=r,this.router=a,this.toastr=u,this.loading=!1,this.passwordMissmatch=!1}ngOnInit(){this.populateForm(),this.formGroup.valueChanges.subscribe(t=>{t.password&&t.confirmPassword&&(this.passwordMissmatch=t.password!==t.confirmPassword)}),localStorage.getItem("token")&&this.router.navigateByUrl("products")}populateForm(){this.formGroup=this.fb.group({username:["",[i.kI.minLength(3),i.kI.required]],password:["",[i.kI.minLength(5),i.kI.required]],confirmPassword:["",[i.kI.minLength(5),i.kI.required]]})}onSubmit(){const{username:t,password:r}=this.formGroup.value;this.passwordMissmatch||(this.loading=!0,this.authService.register(t,r).pipe((0,p.x)(()=>this.loading=!1)).subscribe({next:()=>{this.router.navigateByUrl("products")},error:a=>{this.toastr.error(a.error.message)}}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.qu),e.Y36(f.e),e.Y36(g.F0),e.Y36(c._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],decls:21,vars:7,consts:[[1,"register"],[3,"formGroup","submit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","username",1,"form-control"],[4,"ngIf"],["type","password","formControlName","password",1,"form-control"],["type","password","formControlName","confirmPassword",1,"form-control"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary"],["class","spinner-border","role","status",4,"ngIf"],[1,"text-danger"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"form",1),e.NdJ("submit",function(){return r.onSubmit()}),e.TgZ(2,"div",2),e.TgZ(3,"label",3),e._uU(4,"Username"),e.qZA(),e._UZ(5,"input",4),e.YNc(6,Y,2,1,"div",5),e.qZA(),e.TgZ(7,"div",2),e.TgZ(8,"label",3),e._uU(9,"Password"),e.qZA(),e._UZ(10,"input",6),e.YNc(11,L,2,1,"div",5),e.qZA(),e.TgZ(12,"div",2),e.TgZ(13,"label",3),e._uU(14,"Confirm Password"),e.qZA(),e._UZ(15,"input",7),e.YNc(16,M,2,1,"div",5),e.qZA(),e.YNc(17,G,2,0,"p",8),e.TgZ(18,"button",9),e.YNc(19,O,3,0,"div",10),e.YNc(20,S,2,0,"span",5),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",r.formGroup),e.xp6(5),e.Q6J("ngIf",r.formGroup.controls.username),e.xp6(5),e.Q6J("ngIf",r.formGroup.controls.password),e.xp6(5),e.Q6J("ngIf",r.formGroup.controls.confirmPassword),e.xp6(1),e.Q6J("ngIf",r.passwordMissmatch),e.xp6(2),e.Q6J("ngIf",r.loading),e.xp6(1),e.Q6J("ngIf",!r.loading))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,d.O5],styles:[".register[_ngcontent-%COMP%]{width:50%;margin:0 auto}.register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:20%}"]}),n})()}];let j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,g.Bz.forChild(F)],g.Bz]}),n})();var k=s(294);let B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,j,k.I]]}),n})()}}]);